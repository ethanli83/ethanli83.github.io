{"version":3,"sources":["AtlasBuilder/Terms.tsx","Palace/StarBrightness.tsx","AtlasBuilder/SiHua.tsx","Palace/Palace.tsx","AtlasBuilder/Rules.tsx","AtlasBuilder/AtlasBuilder.tsx","Utils/Utils.tsx","YunXian/YunXian.tsx","AtlasBuilder/YunXianBuilder.tsx","StarAtlas/StarAtlas.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["WuXing","DiZhi","TianGan","PalaceName","StarSign","Gender","Brightness","SiHua","StarBrightness","_StarBrightness","Object","defineProperty","ZiWei","_StarSign$ZiWei","Zi","Ping","Chou","Miao","Yin","Wang","Mou","Chen","Si","Wu","Wei","Shen","You","Xu","Hai","TianFu","_StarSign$TianFu","TianXiang","_StarSign$TianXiang","Xian","TianTong","_StarSign$TianTong","TianJi","_StarSign$TianJi","TaiYang","_StarSign$TaiYang","TaiYin","_StarSign$TaiYin","WenChang","_StarSign$WenChang","WenQu","_StarSign$WenQu","WuQu","_StarSign$WuQu","TanLang","_StarSign$TanLang","LianZhen","_StarSign$LianZhen","Li","JuMen","_StarSign$JuMen","QiSha","_StarSign$QiSha","PoJun","_StarSign$PoJun","QingYang","_StarSign$QingYang","_StarSign$QingYang2","TuoLuo","_StarSign$TuoLuo","HuoXing","_StarSign$HuoXing","LingXing","_StarSign$LingXing","SiHuaTable","_SiHuaTable","Jia","Yi","TianLiang","Bing","Ding","YouBi","Ji","Geng","Xin","Ren","ZuoFu","Gui","SiHuaSeq","Lu","Quan","Ke","Palace","_Component","_getPrototypeOf2","_this$siHuaCssClasses","_this$yunCssClasses","_this","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","yunLimit","siHuaCssClasses","yunCssClasses","inherits","createClass","key","value","_this2","starSigns1","props","map","s","getMainStarSign","starSigns2","getStarSign","starSigns3","starSigns4","getLiuStarSign","shenPalace","isShenPalace","react_default","a","createElement","className","undefined","daXian","onClick","getPalaceNames","palaceNames","tianGan","diZhi","starSign","_this3","allBrightness","brightnessCode","starClass","selectedSiHua","siHuaList","siHuas","i","PlaceHolder","slice","starInfo","xian","names","_this4","filter","reverse","Component","StarInfo","LiuStarInfo","TianGanSeq","DiZhiSeq","WuXingNumber","_WuXingNumber","Huo","Tu","Mu","Jin","Shui","PalaceSeq","Ming","Xiong","FuQi","Cai","Qian","Nu","Shi","Tian","FuDe","FuMu","WuHuDunYin","_WuHuDunYin","WuXingJu","_WuXingJu","WuXingDiZhi","_WuXingDiZhi","WuXingJuSeq","NMainStarSeq","SMainStarSeq","LuCunZhi","_LuCunZhi","KuiYuePos","_KuiYuePos","TianMaPos","_TianMaPos","HuoLingPos","_HuoLingPos","FengZhengPos","_FengZhengPos","JieKongPos","_JieKongPos","buildStartAtlas","atlasInfo","palaces","dizhi","palaceInfo","yearGan","birthYearGan","createInitialPalaces","startGanIndex","indexOf","calculateYinGan","month","hour","mingPalaceIndex","shenPalaceIndex","index","name","calculateMingShenPalace","gender","mingIndex","wuXing","calulcateWuXinJu","wuXingNum","countFunc","Male","Female","makeCountFunc","calculateDaXian","ziWeiZhi","day","mingZhi","calculateMingPalaceDiZhi","seq","wuXingZhi","startIndex","shang","Math","floor","remain","startDiZhi","calculateZiWeiPalace","ziweiIndex","palace","push","tianFuIndex","calculateMainStarSigns","LuCun","calculateLuCunPalace","TianKui","TianYue","calculateKuiYuePalaces","luChunIndex","calculateYangTouPalaces","JieKong","calculateJieKongPalaces","_yearGan","guiGanZhi","keys","k","guiPalace","xunKongIndex","XunKong","calculateXunKongPalaces","birthYearZhi","yearZhi","TianMa","calculateTianMaPalace","_HuoLingPos$yearZhi","slicedToArray","huoStartZhi","lingStartZhi","huoZhi","lingZhi","calculateHuoLingPalace","longChiIndex","LongChi","fengGeIndex","FengGe","calculateLongFengPalace","hongLuanIndex","HongLuan","TianXi","calcuateLuanXiPalaces","duiPalaceIndex","DaHao","calcuateDaHaoPalaces","HuaGai","calculateHuaGai","youBiIndex","zuoFuIndex","calculateFuBiPalaces","xingIndex","TianXing","yaoIndex","TianYao","calculateXingYaoPalaces","sanTaiIndex","SanTai","baZuoIndex","BaZuo","calculateTaiZuoPalaces","jieIndex","JieShen","tianWuZhi","TianWu","calcuateYueJieTianWuPalaces","YinSha","calculateYinShaPalace","TianYue2","calculateTianYue2Palace","wenChangIndex","wenQuIndex","calculateQuChangPalaces","diJieZhi","DiJie","diKongZhi","DiKong","calculateKongJiePalaces","NenGuang","TianGui","calculateNenGuiPalaces","startElement","elementIndex","range","num","from","XianName","YunXian","timeInfo","yunXianSeq","DaXian","LiuNian","LiuYue","LiuRi","state","yun","wuXingNumber","year","enabledYunXian","daXians","fYear","tYear","years","birthYear","months","days","getBlockStyle","onChange","x","onChanged","target","onEnabled","onToday","onNextDay","style","includes","valStr","objectSpread","val","parseInt","setState","change","_this5","today","Date","lunarToday","LunarCalendar","solarToLunar","getFullYear","getMonth","getDate","startYear","lunarYear","lunarMonth","lunarDay","delta","_this6","min","max","calculateSiHua","siHuaInfo","updateSiHua","g","uf","forEach","sh","updatePalaceName","zhi","values","find","p","birthGan","yunGan","monthGan","dayGan","selectedGan","v","yunZhi","monthZhi","dayZhi","enabledYun","calculateLiuLuYangTouPalaces","YunLu","YunYan","YunTuo","LiuLu","LiuYan","LiuTuo","YueLu","YueYan","YueTuo","RiLu","RiYan","RiTuo","lu","yang","tuo","calculateYearGanZhi","gan","StarAtlas","selectedDiZhi","siHua","calculateWuXingJu","sanFangDiZhi","getPalace","colSpan","rowSpan","getInfo","createSanHeLines","YunXian_YunXian_YunXian","onYunChanged","info","Palace_Palace_Palace","assign","onPalaceClick","solarDate","format","louZhi","zhiPos","FangZhengPos","sanFang1Pos","sanFang2Pos","siZhengPos","sanFang1","drawLine","sanFang2","sanFang3","siZeng","yunState","_calculateYunSiHua","starAtlasInfo","sanFangZhi","y","yunPalace","_calculateYearGanZhi","result","monthPalace","lunarToSolar","lunarDate","GanZhiMonth","GanZhiDay","calculateYunSiHua","pos1","pos2","width","abs","height","left","bottom","background","position","App","a1","a2","a3","a6","a5","getHours","StarAtlas_StarAtlas_StarAtlas","lunarLeapMonth","round","console","log","GanZhiYear","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.23d3d216.chunk.js","sourcesContent":["export enum WuXing {\n    Mu = '木',\n    Huo = '火',\n    Tu = '土',\n    Jin = '金',\n    Shui = '水',\n}\n\nexport enum DiZhi {\n    Zi = '子',\n    Chou = '丑',\n    Yin = '寅',\n    Mou = '卯',\n    Chen = '辰',\n    Si = '巳',\n    Wu = '午',\n    Wei = '未',\n    Shen = '申',\n    You = '酉',\n    Xu = '戌',\n    Hai = '亥',\n}\n\nexport enum TianGan {\n    Jia = '甲',\n    Yi = '乙',\n    Bing = '丙',\n    Ding = '丁',\n    Wu = '戊',\n    Ji = '己',\n    Geng = '庚',\n    Xin = '辛',\n    Ren = '壬',\n    Gui = '癸',\n}\n\nexport enum PalaceName {\n    Ming = '命',\n    Xiong = '兄弟',\n    FuQi = '夫妻',\n    Zi = '子女',\n    Cai = '财帛',\n    Ji = '疾恶',\n    Qian = '迁移',\n    Nu = '奴仆',\n    Shi = '官禄',\n    Tian = '田宅',\n    FuDe = '福德',\n    FuMu = '父母',\n    Shen = '身'\n}\n\nexport enum StarSign {\n    ZiWei = '紫微',\n    TianJi = '天机',\n    TaiYang = '太阳',\n    WuQu = '武曲',\n    TianTong = '天同',\n    LianZhen = '廉贞',\n    TianFu = '天府',\n    TaiYin = '太阴',\n    TanLang = '贪狼',\n    JuMen = '巨门',\n    TianXiang = '天相',\n    TianLiang = '天梁',\n    QiSha = '七杀',\n    PoJun = '破军',\n    LuCun = '禄存',\n    WenQu = '文曲',\n    WenChang = '文昌',\n    ZuoFu = '左辅',\n    YouBi = '右弼',\n    TianKui = '天魁',\n    TianYue = '天钺',\n    TianMa = '天马',\n    QingYang = '擎羊',\n    TuoLuo = '陀罗',\n    HuoXing = '火星',\n    LingXing = '铃星',\n    DiKong = '地空',\n    DiJie = '地劫',\n    TianXing = '天刑',\n    TianYao = '天姚',\n    SanTai = '三台',\n    BaZuo = '八座',\n    LongChi = '龙池',\n    FengGe = '凤阁',\n    HongLuan = '红鸾',\n    TianXi = '天喜',\n    JieKong = '截空',\n    XunKong = '旬空',\n    DaHao = '大耗',\n    TianWu = '天巫',\n    JieShen = '解神',\n    HuaGai = '华盖',\n    YinSha = '阴煞',\n    TianYue2 = '天月',\n    NenGuang = '恩光',\n    TianGui = '天贵',\n    YunLu = '运禄',\n    YunYan = '运羊',\n    YunTuo = '运陀',\n    LiuLu = '流禄',\n    LiuYan = '流羊',\n    LiuTuo = '流陀',\n    YueLu = '月禄',\n    YueYan = '月羊',\n    YueTuo = '月陀',\n    RiLu = '日禄',\n    RiYan = '日羊',\n    RiTuo = '日陀'\n}\n\nexport enum Gender {\n    Male = '男',\n    Female = '女'\n}\n\nexport enum Brightness {\n    Miao = '庙',\n    Wang = '旺',\n    Li = '利',\n    Ping = '平',\n    Xian = '陷'\n}","import { StarSign, DiZhi, Brightness } from '../AtlasBuilder/Terms';\n\nexport const StarBrightness: { [k: string]: { [k:string]: Brightness } } = {\n    [StarSign.ZiWei]: {\n        [DiZhi.Zi]: Brightness.Ping,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Wang,\n        [DiZhi.Mou]: Brightness.Wang,\n        [DiZhi.Chen]: Brightness.Wang,\n        [DiZhi.Si]: Brightness.Wang,\n        [DiZhi.Wu]: Brightness.Miao,\n        [DiZhi.Wei]: Brightness.Miao,\n        [DiZhi.Shen]: Brightness.Wang,\n        [DiZhi.You]: Brightness.Wang,\n        [DiZhi.Xu]: Brightness.Wang,\n        [DiZhi.Hai]: Brightness.Wang,\n    },\n    [StarSign.TianFu]: {\n        [DiZhi.Zi]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Wei]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Miao,\n        [DiZhi.Chen]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Wu]: Brightness.Wang,\n        [DiZhi.You]: Brightness.Wang,\n        [DiZhi.Mou]: Brightness.Ping,\n        [DiZhi.Si]: Brightness.Ping,\n        [DiZhi.Hai]: Brightness.Ping,\n        [DiZhi.Shen]: Brightness.Ping,\n    },\n    [StarSign.TianXiang]: {\n        [DiZhi.Zi]: Brightness.Miao,\n        [DiZhi.Wu]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Miao,\n        [DiZhi.Shen]: Brightness.Miao,\n        [DiZhi.Mou]: Brightness.Xian,\n        [DiZhi.You]: Brightness.Xian,\n    },\n    [StarSign.TianTong]: {\n        [DiZhi.Si]: Brightness.Miao,\n        [DiZhi.Hai]: Brightness.Miao,\n        [DiZhi.Zi]: Brightness.Wang,\n        [DiZhi.Shen]: Brightness.Wang,\n        [DiZhi.Wu]: Brightness.Xian,\n    },\n    [StarSign.TianJi]: {\n        [DiZhi.Zi]: Brightness.Miao,\n        [DiZhi.Wu]: Brightness.Miao,\n        [DiZhi.Chen]: Brightness.Wang,\n        [DiZhi.You]: Brightness.Wang,\n        [DiZhi.Chou]: Brightness.Xian,\n        [DiZhi.Wei]: Brightness.Xian,\n    },\n    [StarSign.TaiYang]: {\n        [DiZhi.Mou]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Miao,\n        [DiZhi.Chen]: Brightness.Wang,\n        [DiZhi.Si]: Brightness.Wang,\n        [DiZhi.Wu]: Brightness.Xian,\n        [DiZhi.Zi]: Brightness.Xian,\n    },\n    [StarSign.TaiYin]: {\n        [DiZhi.Hai]: Brightness.Miao,\n        [DiZhi.Zi]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Wang,\n        [DiZhi.You]: Brightness.Wang,\n        [DiZhi.Xu]: Brightness.Wang,\n        [DiZhi.Mou]: Brightness.Xian,\n        [DiZhi.Chen]: Brightness.Xian,\n        [DiZhi.Si]: Brightness.Xian,\n    },\n    [StarSign.WenChang]: {\n        [DiZhi.Si]: Brightness.Miao,\n        [DiZhi.You]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Xian,\n        [DiZhi.Wu]: Brightness.Xian,\n        [DiZhi.Xu]: Brightness.Xian,\n    },\n    [StarSign.WenQu]: {\n        [DiZhi.Si]: Brightness.Miao,\n        [DiZhi.You]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Xian,\n        [DiZhi.Wu]: Brightness.Xian,\n        [DiZhi.Xu]: Brightness.Xian,\n    },\n    [StarSign.WuQu]: {\n        [DiZhi.Chen]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Wei]: Brightness.Miao,\n        [DiZhi.Zi]: Brightness.Wang,\n        [DiZhi.Wu]: Brightness.Wang,\n    },\n    [StarSign.TanLang]: {\n        [DiZhi.Chen]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Wei]: Brightness.Miao,\n        [DiZhi.Zi]: Brightness.Wang,\n        [DiZhi.Wu]: Brightness.Wang,\n        [DiZhi.Si]: Brightness.Xian,\n        [DiZhi.Hai]: Brightness.Xian,\n    },\n    [StarSign.LianZhen]: {\n        [DiZhi.Yin]: Brightness.Miao,\n        [DiZhi.Shen]: Brightness.Miao,\n        [DiZhi.Chen]: Brightness.Li,\n        [DiZhi.Xu]: Brightness.Li,\n        [DiZhi.Chou]: Brightness.Li,\n        [DiZhi.Wei]: Brightness.Li,\n        [DiZhi.Si]: Brightness.Xian,\n        [DiZhi.Hai]: Brightness.Xian,\n    },\n    [StarSign.JuMen]: {\n        [DiZhi.Yin]: Brightness.Miao,\n        [DiZhi.Shen]: Brightness.Miao,\n        [DiZhi.Mou]: Brightness.Miao,\n        [DiZhi.You]: Brightness.Miao,\n        [DiZhi.Zi]: Brightness.Wang,\n        [DiZhi.Wu]: Brightness.Wang,\n        [DiZhi.Si]: Brightness.Wang,\n        [DiZhi.Hai]: Brightness.Wang,\n        [DiZhi.Shen]: Brightness.Xian,\n        [DiZhi.Xu]: Brightness.Xian,\n    },\n    [StarSign.QiSha]: {\n        [DiZhi.Chen]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Wei]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Miao,\n        [DiZhi.Shen]: Brightness.Miao,\n        [DiZhi.Zi]: Brightness.Wang,\n        [DiZhi.Wu]: Brightness.Wang,\n        [DiZhi.Mou]: Brightness.Wang,\n        [DiZhi.You]: Brightness.Wang,\n        [DiZhi.Si]: Brightness.Ping,\n        [DiZhi.Hai]: Brightness.Ping,\n    },\n    [StarSign.PoJun]: {\n        [DiZhi.Zi]: Brightness.Miao,\n        [DiZhi.Wu]: Brightness.Miao,\n        [DiZhi.Chen]: Brightness.Wang,\n        [DiZhi.Xu]: Brightness.Wang,\n        [DiZhi.Chou]: Brightness.Wang,\n        [DiZhi.Wei]: Brightness.Wang,\n        [DiZhi.Mou]: Brightness.Xian,\n        [DiZhi.You]: Brightness.Xian,\n    },\n    [StarSign.QingYang]: {\n        [DiZhi.Chen]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Wei]: Brightness.Miao,\n        [DiZhi.Zi]: Brightness.Wang,\n        [DiZhi.Wu]: Brightness.Wang,\n        [DiZhi.Mou]: Brightness.Wang,\n        [DiZhi.You]: Brightness.Wang,\n    },\n    [StarSign.QingYang]: {\n        [DiZhi.Chen]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Wei]: Brightness.Miao,\n        [DiZhi.Zi]: Brightness.Xian,\n        [DiZhi.Wu]: Brightness.Xian,\n        [DiZhi.Mou]: Brightness.Xian,\n        [DiZhi.You]: Brightness.Xian,\n    },\n    [StarSign.TuoLuo]: {\n        [DiZhi.Chen]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Chou]: Brightness.Miao,\n        [DiZhi.Wei]: Brightness.Miao,\n        [DiZhi.Yin]: Brightness.Xian,\n        [DiZhi.Shen]: Brightness.Xian,\n        [DiZhi.Si]: Brightness.Xian,\n        [DiZhi.Hai]: Brightness.Xian,\n    },\n    [StarSign.HuoXing]: {\n        [DiZhi.Yin]: Brightness.Miao,\n        [DiZhi.Wu]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Shen]: Brightness.Xian,\n        [DiZhi.Zi]: Brightness.Xian,\n        [DiZhi.Chen]: Brightness.Xian,\n    },\n    [StarSign.LingXing]: {\n        [DiZhi.Yin]: Brightness.Miao,\n        [DiZhi.Wu]: Brightness.Miao,\n        [DiZhi.Xu]: Brightness.Miao,\n        [DiZhi.Shen]: Brightness.Xian,\n        [DiZhi.Zi]: Brightness.Xian,\n        [DiZhi.Chen]: Brightness.Xian,\n    },\n}","import { TianGan, StarSign } from './Terms';\n\nexport const SiHuaTable: { [k: string]: string[] } = {\n    [TianGan.Jia]: [StarSign.LianZhen, StarSign.PoJun, StarSign.WuQu, StarSign.TaiYang],\n    [TianGan.Yi]: [StarSign.TianJi, StarSign.TianLiang, StarSign.ZiWei, StarSign.TaiYin],\n    [TianGan.Bing]: [StarSign.TianTong, StarSign.TianJi, StarSign.WenChang, StarSign.LianZhen],\n    [TianGan.Ding]: [StarSign.TaiYin, StarSign.TianTong, StarSign.TianJi, StarSign.JuMen],\n    [TianGan.Wu]: [StarSign.TanLang, StarSign.TaiYin, StarSign.YouBi, StarSign.TianJi],\n    [TianGan.Ji]: [StarSign.WuQu, StarSign.TanLang, StarSign.TianLiang, StarSign.WenQu],\n    [TianGan.Geng]: [StarSign.TaiYang, StarSign.WuQu, StarSign.TaiYin, StarSign.TianTong],\n    [TianGan.Xin]: [StarSign.JuMen, StarSign.TaiYang, StarSign.WenQu, StarSign.WenChang],\n    [TianGan.Ren]: [StarSign.TianLiang, StarSign.ZiWei, StarSign.ZuoFu, StarSign.WuQu],\n    [TianGan.Gui]: [StarSign.PoJun, StarSign.JuMen, StarSign.TaiYin, StarSign.TanLang],\n}\n\nexport enum SiHua {\n    Lu = '禄',\n    Quan = '权',\n    Ke = '科',\n    Ji = '忌',\n    PlaceHolder = '\\u00A0'\n}\n\nexport const SiHuaSeq = [SiHua.Lu, SiHua.Quan, SiHua.Ke, SiHua.Ji];","import React, { Component } from 'react';\n\nimport './Palace.scss';\n\nimport { DiZhi, TianGan, Brightness, StarSign, PalaceName } from '../AtlasBuilder/Terms';\nimport { StarBrightness } from './StarBrightness';\nimport { SiHua } from '../AtlasBuilder/SiHua';\nimport { XianName } from '../YunXian/YunXian';\n\nexport class Palace extends Component<IPalaceInfo> {\n    private readonly yunLimit = 3;\n\n    private readonly siHuaCssClasses: { [k: string]: string } = {\n        [SiHua.Lu]: 'lu',\n        [SiHua.Quan]: 'quan',\n        [SiHua.Ke]: 'ke',\n        [SiHua.Ji]: 'ji',\n    }\n\n    private readonly yunCssClasses: { [k: number]: string } = {\n        [0]: 'ming',\n        [1]: 'yun',\n        [2]: 'year',\n        [3]: 'month',\n        [4]: 'day',\n    }\n\n    public render() {\n        const starSigns1 = this.props.starSigns1.map(s => this.getMainStarSign(s));\n        const starSigns2 = this.props.starSigns2.map(s => this.getStarSign(s));\n        const starSigns3 = this.props.starSigns3.map(s => this.getStarSign(s));\n        const starSigns4 = this.props.starSigns4.map(s => this.getLiuStarSign(s));\n\n        const shenPalace = this.props.isShenPalace \n            ? (<span className=\"shen-palace\">{this.props.isShenPalace ? '身': ''}</span>)\n            : undefined;\n\n        const daXian = this.props.daXian \n            ? (<span className=\"da-xian\">{this.props.daXian}-{this.props.daXian + 10}</span>) \n            : undefined;\n\n        return (\n            <div className=\"palace\" onClick={this.props.onClick}>\n                <div className=\"row\">\n                    <div className=\"level-1-stars\">{starSigns1}{starSigns2}</div>\n                    <div className=\"level-2-stars\">{starSigns3}</div>\n                </div>\n                <div className=\"row yun-row\">\n                    {starSigns4}\n                </div>\n                <div className=\"bottom-row\">        \n                    <span className=\"palace-name\">\n                        {this.getPalaceNames(this.props.palaceNames || [])}\n                    </span>\n                    {shenPalace}\n                    <div className=\"right-col\">\n                        {daXian}\n                        <span className=\"di-zhi\">\n                            <span>{this.props.tianGan}</span>\n                            <span>{this.props.diZhi}</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    private getMainStarSign(starSign: StarInfo) {\n        const allBrightness = StarBrightness[starSign.starSign];\n        const brightnessCode = allBrightness ? allBrightness[this.props.diZhi] || Brightness.Ping : undefined;\n\n        const starClass = 'star-sign' + (starSign.selectedSiHua ? ` ${this.siHuaCssClasses[starSign.selectedSiHua]}` : '');\n        const siHuaList = starSign.siHuas\n            .map((s, i) => {\n                const className = 'si-hua' + (s !== SiHua.PlaceHolder ? ` ${this.yunCssClasses[i]}` : '');\n                return (<span className={className} key={'sh-' + i}>{s}</span>);\n            })\n            .slice(-this.yunLimit);\n\n        return (\n            <span className=\"star-sign-info\" key={starSign.starSign}>\n                <span className={starClass}>{starSign.starSign}</span>\n                <span className=\"bright\">{brightnessCode}</span>\n                {siHuaList}\n            </span>\n        );\n    }\n\n    private getStarSign(starSign: string) {\n        return (\n            <span className=\"star-sign-info\" key={starSign}>\n                <span className=\"star-sign\">{starSign}</span>\n            </span>\n        );\n    }\n\n    private getLiuStarSign(starInfo: LiuStarInfo) {\n        const className = 'star-sign' + ` ${this.yunCssClasses[starInfo.xian + 1]}`;\n        return (\n            <span className=\"star-sign-info\" key={starInfo.xian + '_' + starInfo.starSign}>\n                <span className={className}>{starInfo.starSign}</span>\n            </span>\n        );\n    }\n\n    private getPalaceNames(names: PalaceName[]) {\n        return (names)\n            .map((s, i) => {\n                return s ? (<div className={this.yunCssClasses[i]} key={`pn-${i}`}>{s}</div>) : undefined;\n            })\n            .filter(s => !!s)\n            .slice(-this.yunLimit)\n            .reverse();\n    }\n}\n\nexport interface IPalaceInfo {\n    starSigns1: StarInfo[];\n    starSigns2: string[];\n    starSigns3: string[];\n    starSigns4: LiuStarInfo[];\n    tianGan?: TianGan;\n    diZhi: DiZhi;\n    palaceNames: PalaceName[];\n    isShenPalace?: boolean;\n    daXian?: number;\n    yearGan?: TianGan;\n    onClick?: {():void};\n}\n\nexport class StarInfo {\n    public siHuas: SiHua[] = [];\n    public selectedSiHua?: SiHua;\n    constructor(public starSign: StarSign) {}\n}\n\nexport class LiuStarInfo {\n    constructor(public starSign: StarSign, public xian: XianName) {}\n}","import { DiZhi, TianGan, PalaceName, WuXing, StarSign } from './Terms';\n\nexport const TianGanSeq = [\n    TianGan.Jia,\n    TianGan.Yi,\n    TianGan.Bing,\n    TianGan.Ding,\n    TianGan.Wu,\n    TianGan.Ji,\n    TianGan.Geng,\n    TianGan.Xin,\n    TianGan.Ren,\n    TianGan.Gui,\n]\n\nexport const DiZhiSeq = [\n    DiZhi.Zi,\n    DiZhi.Chou,\n    DiZhi.Yin,\n    DiZhi.Mou,\n    DiZhi.Chen,\n    DiZhi.Si,\n    DiZhi.Wu,\n    DiZhi.Wei,\n    DiZhi.Shen,\n    DiZhi.You,\n    DiZhi.Xu,\n    DiZhi.Hai,\n];\n\nexport const WuXingNumber: { [num: string]: number } = {\n    [WuXing.Huo]: 6,\n    [WuXing.Tu]: 5,\n    [WuXing.Mu]: 3,\n    [WuXing.Jin]: 4,\n    [WuXing.Shui]: 2,\n}\n\nexport const PalaceSeq = [\n    PalaceName.Ming,\n    PalaceName.Xiong,\n    PalaceName.FuQi,\n    PalaceName.Zi,\n    PalaceName.Cai,\n    PalaceName.Ji,\n    PalaceName.Qian,\n    PalaceName.Nu,\n    PalaceName.Shi,\n    PalaceName.Tian,\n    PalaceName.FuDe,\n    PalaceName.FuMu,\n];\n\nexport const WuHuDunYin = {\n    [TianGan.Jia]: TianGan.Bing,\n    [TianGan.Ji]: TianGan.Bing,\n    [TianGan.Yi]: TianGan.Wu,\n    [TianGan.Geng]: TianGan.Wu,\n    [TianGan.Bing]: TianGan.Geng,\n    [TianGan.Xin]: TianGan.Geng,\n    [TianGan.Ding]: TianGan.Ren,\n    [TianGan.Ren]: TianGan.Ren,\n    [TianGan.Wu]: TianGan.Jia,\n    [TianGan.Gui]: TianGan.Jia,\n}\n\nexport const WuXingJu = {\n    [TianGan.Jia]: WuXing.Shui,\n    [TianGan.Ji]: WuXing.Shui,\n    [TianGan.Yi]: WuXing.Huo,\n    [TianGan.Geng]: WuXing.Huo,\n    [TianGan.Bing]: WuXing.Tu,\n    [TianGan.Xin]: WuXing.Tu,\n    [TianGan.Ding]: WuXing.Mu,\n    [TianGan.Ren]: WuXing.Mu,\n    [TianGan.Wu]: WuXing.Jin,\n    [TianGan.Gui]: WuXing.Jin,\n}\n\nexport const WuXingDiZhi: { [num: string]: DiZhi } = {\n    [WuXing.Huo]: DiZhi.You,\n    [WuXing.Tu]: DiZhi.Wu,\n    [WuXing.Jin]: DiZhi.Hai,\n    [WuXing.Mu]: DiZhi.Chen,\n    [WuXing.Shui]: DiZhi.Chou,\n}\n\nexport const WuXingJuSeq = [\n    WuXing.Shui,\n    WuXing.Huo,\n    WuXing.Tu,\n    WuXing.Mu,\n    WuXing.Jin,\n]\n\nexport const NMainStarSeq = [\n    StarSign.ZiWei, StarSign.TianJi, undefined, StarSign.TaiYang, \n    StarSign.WuQu, StarSign.TianTong, undefined, undefined, StarSign.LianZhen\n];\n\nexport const SMainStarSeq = [\n    StarSign.TianFu, StarSign.TaiYin, StarSign.TanLang, \n    StarSign.JuMen, StarSign.TianXiang, StarSign.TianLiang, StarSign.QiSha,\n    undefined, undefined, undefined, StarSign.PoJun\n];\n\nexport const LuCunZhi = {\n    [TianGan.Jia]: DiZhi.Yin,\n    [TianGan.Yi]: DiZhi.Mou,\n    [TianGan.Bing]: DiZhi.Si,\n    [TianGan.Wu]: DiZhi.Si,\n    [TianGan.Ding]: DiZhi.Wu,\n    [TianGan.Ji]: DiZhi.Wu,\n    [TianGan.Geng]: DiZhi.Shen,\n    [TianGan.Xin]: DiZhi.You,\n    [TianGan.Ren]: DiZhi.Hai,\n    [TianGan.Gui]: DiZhi.Zi,\n}\n\n/**\n * 甲戊庚牛羊，乙己鼠猴乡，六辛逢虎马，壬癸兔蛇藏，丙丁猪狗位，此是贵人方\n */\nexport const KuiYuePos = {\n    [TianGan.Jia]: [DiZhi.Chou, DiZhi.Wei],\n    [TianGan.Wu]: [DiZhi.Chou, DiZhi.Wei],\n    [TianGan.Geng]: [DiZhi.Chou, DiZhi.Wei],\n    [TianGan.Yi]: [DiZhi.Zi, DiZhi.Shen],\n    [TianGan.Ji]: [DiZhi.Zi, DiZhi.Shen],\n    [TianGan.Xin]: [DiZhi.Yin, DiZhi.Wu],\n    [TianGan.Ren]: [DiZhi.Mou, DiZhi.Si],\n    [TianGan.Gui]: [DiZhi.Mou, DiZhi.Si],\n    [TianGan.Bing]: [DiZhi.Xu, DiZhi.Hai],\n    [TianGan.Ding]: [DiZhi.Xu, DiZhi.Hai],\n}\n\n/**\n * 寅午戌人马居申，申子辰人马居寅，巳酉丑人马居亥，亥卯未人马居巳\n */\nexport const TianMaPos = {\n    [DiZhi.Yin]: DiZhi.Shen,\n    [DiZhi.Wu]: DiZhi.Shen,\n    [DiZhi.Xu]: DiZhi.Shen,\n    [DiZhi.Shen]: DiZhi.Yin,\n    [DiZhi.Zi]: DiZhi.Yin,\n    [DiZhi.Chen]: DiZhi.Yin,\n    [DiZhi.Si]: DiZhi.Hai,\n    [DiZhi.You]: DiZhi.Hai,\n    [DiZhi.Chou]: DiZhi.Hai,\n    [DiZhi.Hai]: DiZhi.Si,\n    [DiZhi.Mou]: DiZhi.Si,\n    [DiZhi.Wei]: DiZhi.Si,\n}\n\n/**\n * 寅午戌人丑卯方，申子辰人寅戌扬，巳酉丑人戌卯位，亥卯未人酉戌房\n */\nexport const HuoLingPos = {\n    [DiZhi.Yin]: [DiZhi.Chou, DiZhi.Mou],\n    [DiZhi.Wu]: [DiZhi.Chou, DiZhi.Mou],\n    [DiZhi.Xu]: [DiZhi.Chou, DiZhi.Mou],\n    [DiZhi.Shen]: [DiZhi.Yin, DiZhi.Xu],\n    [DiZhi.Zi]: [DiZhi.Yin, DiZhi.Xu],\n    [DiZhi.Chen]: [DiZhi.Yin, DiZhi.Xu],\n    [DiZhi.Si]: [DiZhi.Mou, DiZhi.Xu],\n    [DiZhi.You]: [DiZhi.Mou, DiZhi.Xu],\n    [DiZhi.Chou]: [DiZhi.Mou, DiZhi.Xu],\n    [DiZhi.Hai]: [DiZhi.You, DiZhi.Xu],\n    [DiZhi.Mou]: [DiZhi.You, DiZhi.Xu],\n    [DiZhi.Wei]: [DiZhi.You, DiZhi.Xu],\n}\n\nexport const FengZhengPos: { [key: string]: [number, number] } = {\n    [DiZhi.Yin]: [0, 0],\n    [DiZhi.Mou]: [0, 1],\n    [DiZhi.Chen]: [0, 3],\n    [DiZhi.Si]: [0, 4],\n    [DiZhi.Wu]: [1, 4],\n    [DiZhi.Wei]: [3, 4],\n    [DiZhi.Shen]: [4, 4],\n    [DiZhi.You]: [4, 3],\n    [DiZhi.Xu]: [4, 1],\n    [DiZhi.Hai]: [4, 0],\n    [DiZhi.Zi]: [3, 0],\n    [DiZhi.Chou]: [1, 0],\n}\n\nexport const JieKongPos = {\n    [TianGan.Jia]: DiZhi.Shen,\n    [TianGan.Ji]: DiZhi.You,\n    [TianGan.Yi]: DiZhi.Wu,\n    [TianGan.Geng]: DiZhi.Wei,\n    [TianGan.Bing]: DiZhi.Chen,\n    [TianGan.Xin]: DiZhi.Si,\n    [TianGan.Ding]: DiZhi.Yin,\n    [TianGan.Ren]: DiZhi.Mou,\n    [TianGan.Wu]: DiZhi.Zi,\n    [TianGan.Gui]: DiZhi.Chou,\n}\n","import { IStarAtlasInfo } from '../StarAtlas/StarAtlas';\nimport { IPalaceInfo, StarInfo } from '../Palace/Palace';\nimport { DiZhi, TianGan, StarSign, Gender } from './Terms';\nimport { DiZhiSeq, PalaceSeq, WuHuDunYin, TianGanSeq, WuXingJu, NMainStarSeq, SMainStarSeq, LuCunZhi, WuXingJuSeq, WuXingNumber, WuXingDiZhi, KuiYuePos, TianMaPos, HuoLingPos, JieKongPos } from './Rules';\n\ntype PalaceInfoDict = { [key: string]: IPalaceInfo };\n\nexport function buildStartAtlas(atlasInfo: IStarAtlasInfo) {\n    // init 12 palaces\n    const palaces = createInitialPalaces(atlasInfo);\n\n    // place di zhi tian gan\n    if (atlasInfo.birthYearGan) {\n        calculateYinGan(atlasInfo.birthYearGan, palaces);\n    }\n\n    // place ming and shen palace\n    if (atlasInfo.month !== undefined && atlasInfo.month >= 0 \n        && atlasInfo.hour !== undefined && atlasInfo.hour >= 0) {\n        calculateMingShenPalace(atlasInfo.month, atlasInfo.hour, palaces);\n\n        if (atlasInfo.birthYearGan && atlasInfo.gender) {\n            calculateDaXian(atlasInfo.birthYearGan, atlasInfo.month, atlasInfo.hour, atlasInfo.gender, palaces);\n        }\n    }\n\n    // place star sign\n    let ziWeiZhi = atlasInfo.ziWeiZhi;\n    \n    if (!ziWeiZhi && atlasInfo.birthYearGan \n        && atlasInfo.month !== undefined && atlasInfo.day !== undefined && atlasInfo.hour !== undefined) {\n        ziWeiZhi = calculateZiWeiPalace(atlasInfo.birthYearGan, atlasInfo.month, atlasInfo.day, atlasInfo.hour);\n    }\n\n    if (ziWeiZhi){\n        calculateMainStarSigns(ziWeiZhi, palaces);\n    }\n\n    if (atlasInfo.birthYearGan) {\n        calculateLuCunPalace(atlasInfo.birthYearGan, palaces);\n        calculateKuiYuePalaces(atlasInfo.birthYearGan, palaces);\n        calculateYangTouPalaces(atlasInfo.birthYearGan, palaces);\n        calculateJieKongPalaces(atlasInfo.birthYearGan, palaces);\n        calculateXunKongPalaces(atlasInfo.birthYearGan, palaces);\n    }\n\n    if (atlasInfo.birthYearZhi) {\n        calculateTianMaPalace(atlasInfo.birthYearZhi, palaces);\n\n        if (atlasInfo.hour !== undefined) {\n            calculateHuoLingPalace(atlasInfo.birthYearZhi, atlasInfo.hour, palaces);\n        }\n\n        calculateLongFengPalace(atlasInfo.birthYearZhi, palaces);\n        calcuateLuanXiPalaces(atlasInfo.birthYearZhi, palaces);\n        calcuateDaHaoPalaces(atlasInfo.birthYearZhi, palaces);\n        calculateHuaGai(atlasInfo.birthYearZhi, palaces);\n    }\n\n    if (atlasInfo.month !== undefined) {\n        calculateFuBiPalaces(atlasInfo.month, palaces);\n        calculateXingYaoPalaces(atlasInfo.month, palaces);\n\n        if (atlasInfo.day !== undefined) {\n            calculateTaiZuoPalaces(atlasInfo.month, atlasInfo.day, palaces);\n        }\n\n        calcuateYueJieTianWuPalaces(atlasInfo.month, palaces);\n        calculateYinShaPalace(atlasInfo.month, palaces);\n        calculateTianYue2Palace(atlasInfo.month, palaces);\n    }\n\n    if (atlasInfo.hour !== undefined) {\n        calculateQuChangPalaces(atlasInfo.hour, palaces);\n        calculateKongJiePalaces(atlasInfo.hour, palaces);\n\n        if (atlasInfo.day !== undefined) {\n            calculateNenGuiPalaces(atlasInfo.hour, atlasInfo.day, palaces);\n        }\n    }\n\n    return palaces;\n}\n\nfunction createInitialPalaces(atlasInfo: IStarAtlasInfo) {\n    const palaces: PalaceInfoDict = {};\n\n    for (const key in DiZhi) {\n        const dizhi = DiZhi[key] as DiZhi;\n        const palaceInfo: IPalaceInfo = {\n            starSigns1: [],\n            starSigns2: [],\n            starSigns3: [],\n            starSigns4: [],\n            diZhi: dizhi,\n            palaceNames: [],\n            yearGan: atlasInfo.birthYearGan\n        };\n\n        palaces[dizhi] = palaceInfo;\n    }\n\n    return palaces;\n}\n\nfunction calculateYinGan(yearGan: TianGan, palaces: PalaceInfoDict) {\n    const startGanIndex = TianGanSeq.indexOf(WuHuDunYin[yearGan]);\n    for (let i = 0; i < 12; i++) {\n        const palaceInfo = palaces[DiZhiSeq[(i + 2) % 12]];\n        palaceInfo.tianGan = TianGanSeq[(startGanIndex + i) % 10];\n    }\n}\n\nfunction calculateMingShenPalace(month: number, hour: number, palaces: PalaceInfoDict) {\n    const mingPalaceIndex = (DiZhiSeq.indexOf(DiZhi.Yin) + month - hour + 12) % 12;\n    const shenPalaceIndex = (DiZhiSeq.indexOf(DiZhi.Yin) + month + hour) % 12;  \n    for (let i = 0; i < 12; i++) {\n        const index = (i + mingPalaceIndex) % 12;\n        const palaceInfo = palaces[DiZhiSeq[index]];\n\n        const name = PalaceSeq[(12 - i) % 12]\n        palaceInfo.palaceNames = [name];\n        palaceInfo.isShenPalace = index === shenPalaceIndex;\n    }\n}\n\nfunction calculateDaXian(yearGan: TianGan, month: number, hour: number, gender: Gender, palaces: PalaceInfoDict) {\n    const mingIndex = (DiZhiSeq.indexOf(DiZhi.Yin) + month - hour + 12) % 12;\n    \n    const wuXing = calulcateWuXinJu(yearGan, DiZhiSeq[mingIndex]);\n    const wuXingNum = WuXingNumber[wuXing];\n    \n    const countFunc = makeCountFunc(yearGan, gender);\n    for (let i = 0; i < 12; i++) {\n        const index = countFunc(i, mingIndex);\n         \n        const palaceInfo = palaces[DiZhiSeq[index]];\n        palaceInfo.daXian = wuXingNum + i * 10;\n    }\n}\n\nexport function makeCountFunc(yearGan: TianGan, gender: Gender) {\n    const clockwise = \n        (TianGanSeq.indexOf(yearGan) % 2 === 0 && gender === Gender.Male) ||\n        (TianGanSeq.indexOf(yearGan) % 2 === 1 && gender === Gender.Female);\n\n    return clockwise \n        ? (i: number, mingIndex: number) => (i + mingIndex) % 12 \n        : (i: number, mingIndex: number) => (mingIndex - i + 12) % 12;\n}\n\nfunction calculateMainStarSigns(ziWeiZhi: DiZhi, palaces: PalaceInfoDict) {\n    const ziweiIndex = DiZhiSeq.indexOf(ziWeiZhi);\n    for (let i = 0; i < 12; i++) {\n        const starSign = NMainStarSeq[i];\n        if (!starSign) {\n            continue;\n        }\n\n        const index = (ziweiIndex - i + 12) % 12;\n        const palace = palaces[DiZhiSeq[index]];\n        palace.starSigns1.push(new StarInfo(starSign));\n    }\n\n    const tianFuIndex = (12 - (DiZhiSeq.indexOf(ziWeiZhi) - 2 + 12) % 12) % 12 + 2;\n    for (let i = 0; i < 12; i++) {\n        const starSign = SMainStarSeq[i];\n        if (!starSign) {\n            continue;\n        }\n\n        const index = (tianFuIndex + i) % 12;\n        const palace = palaces[DiZhiSeq[index]];\n        palace.starSigns1.push(new StarInfo(starSign));\n    }\n}\n\nfunction calculateLuCunPalace(yearGan: TianGan, palaces: PalaceInfoDict) {\n    const palace = palaces[LuCunZhi[yearGan]];\n    palace.starSigns1.push(new StarInfo(StarSign.LuCun));\n}\n\nfunction calculateYangTouPalaces(yearGan: TianGan, palaces: PalaceInfoDict) {\n    const luChunIndex = DiZhiSeq.indexOf(LuCunZhi[yearGan]);\n    \n    const yangIndex = (luChunIndex + 1) % 12;\n    const yangPalace = palaces[DiZhiSeq[yangIndex]];\n    yangPalace.starSigns2.push(StarSign.QingYang);\n\n    const tuoIndex = (luChunIndex - 1 + 12) % 12;\n    const tuoPalace = palaces[DiZhiSeq[tuoIndex]];\n    tuoPalace.starSigns2.push(StarSign.TuoLuo);\n}\n\nfunction calculateKuiYuePalaces(yearGan: TianGan, palaces: PalaceInfoDict) {\n    const kuiPalace = palaces[KuiYuePos[yearGan][0]];\n    kuiPalace.starSigns2.push(StarSign.TianKui)\n\n    const yuePalace = palaces[KuiYuePos[yearGan][1]];\n    yuePalace.starSigns2.push(StarSign.TianYue)\n}\n\nfunction calculateJieKongPalaces(yearGan: TianGan, palaces: PalaceInfoDict) {\n    const kuiPalace = palaces[JieKongPos[yearGan]];\n    kuiPalace.starSigns3.push(StarSign.JieKong)\n}\n\nfunction calculateXunKongPalaces(_yearGan: TianGan, palaces: PalaceInfoDict) {\n    const guiGanZhi = Object.keys(palaces).filter(k => palaces[k].tianGan === TianGan.Gui)[0];\n    const guiPalace = palaces[guiGanZhi];\n    const xunKongIndex = DiZhiSeq.indexOf(guiPalace.diZhi) + 1;\n    const xunKongPalace = palaces[DiZhiSeq[xunKongIndex % 12]];\n    xunKongPalace.starSigns3.push(StarSign.XunKong);\n}\n\nfunction calcuateLuanXiPalaces(yearZhi: DiZhi, palaces: PalaceInfoDict) {\n    const hongLuanIndex = DiZhiSeq.indexOf(DiZhi.Mou) - DiZhiSeq.indexOf(yearZhi) + 12;\n    const hongLuanPalace = palaces[DiZhiSeq[hongLuanIndex % 12]];\n    hongLuanPalace.starSigns2.push(StarSign.HongLuan);\n\n    const tianXiPalace = palaces[DiZhiSeq[(hongLuanIndex + 6) % 12]];\n    tianXiPalace.starSigns2.push(StarSign.TianXi);\n}\n\nfunction calcuateDaHaoPalaces(yearZhi: DiZhi, palaces: PalaceInfoDict) {\n    const duiPalaceIndex = DiZhiSeq.indexOf(yearZhi) + 6;\n    const daHaoIndex = duiPalaceIndex % 2 === 0 ? duiPalaceIndex + 1 : duiPalaceIndex -1;\n    const daHaoPalace = palaces[DiZhiSeq[daHaoIndex % 12]];\n    daHaoPalace.starSigns3.push(StarSign.DaHao);\n}\n\nfunction calculateHuaGai(yearZhi: DiZhi, palaces: PalaceInfoDict) {\n    const seq = [DiZhi.Chen, DiZhi.Chou, DiZhi.Wu, DiZhi.Wei];\n    const index = DiZhiSeq.indexOf(yearZhi) % 4;\n    const palace = palaces[seq[index]];\n    palace.starSigns3.push(StarSign.HuaGai);\n}\n\nfunction calculateQuChangPalaces(hour: number, palaces: PalaceInfoDict) {\n    const wenChangIndex = (DiZhiSeq.indexOf(DiZhi.Xu) - hour + 12) % 12;\n    const wenChangPalace = palaces[DiZhiSeq[wenChangIndex]];\n    wenChangPalace.starSigns1.push(new StarInfo(StarSign.WenChang));\n\n    const wenQuIndex = (DiZhiSeq.indexOf(DiZhi.Chen) + hour) % 12;\n    const wenQuPalace = palaces[DiZhiSeq[wenQuIndex]];\n    wenQuPalace.starSigns1.push(new StarInfo(StarSign.WenQu));\n}\n\nfunction calculateNenGuiPalaces(hour: number, day: number, palaces: PalaceInfoDict) {\n    const wenChangIndex = (DiZhiSeq.indexOf(DiZhi.Xu) - hour + 12) % 12;\n    const nenGuangPalace = palaces[DiZhiSeq[(wenChangIndex + day - 2) % 12]];\n    nenGuangPalace.starSigns3.push(StarSign.NenGuang);\n\n    const wenQuIndex = (DiZhiSeq.indexOf(DiZhi.Chen) + hour) % 12;\n    const tianGuiPalace = palaces[DiZhiSeq[(wenQuIndex + day - 2) % 12]];\n    tianGuiPalace.starSigns3.push(StarSign.TianGui);\n}\n\nfunction calculateFuBiPalaces(month: number, palaces: PalaceInfoDict) {\n    const youBiIndex = (DiZhiSeq.indexOf(DiZhi.Xu) - month + 12) % 12;\n    const youBiPalace = palaces[DiZhiSeq[youBiIndex]];\n    youBiPalace.starSigns1.push(new StarInfo(StarSign.YouBi));\n\n    const zuoFuIndex = (DiZhiSeq.indexOf(DiZhi.Chen) + month) % 12;\n    const zuoFuPalace = palaces[DiZhiSeq[zuoFuIndex]];\n    zuoFuPalace.starSigns1.push(new StarInfo(StarSign.ZuoFu));\n}\n\nfunction calculateTaiZuoPalaces(month: number, day: number, palaces: PalaceInfoDict) {\n    const sanTaiIndex = (DiZhiSeq.indexOf(DiZhi.Chen) + month + day - 1) % 12;\n    const sanTaiPalace = palaces[DiZhiSeq[sanTaiIndex]];\n    sanTaiPalace.starSigns3.push(StarSign.SanTai);\n\n    const baZuoIndex = (DiZhiSeq.indexOf(DiZhi.Xu) - month - day + 1) % 12 + 12;\n    const baZuoPalace = palaces[DiZhiSeq[baZuoIndex % 12]];\n    baZuoPalace.starSigns3.push(StarSign.BaZuo);\n}\n\nfunction calculateXingYaoPalaces(month: number, palaces: PalaceInfoDict) {\n    const xingIndex = (DiZhiSeq.indexOf(DiZhi.You) + month) % 12;\n    const xingPalace = palaces[DiZhiSeq[xingIndex]];\n    xingPalace.starSigns2.push(StarSign.TianXing);\n\n    const yaoIndex = (DiZhiSeq.indexOf(DiZhi.Chou) + month) % 12;\n    const yaoPalace = palaces[DiZhiSeq[yaoIndex]];\n    yaoPalace.starSigns2.push(StarSign.TianYao);\n}\n\nfunction calcuateYueJieTianWuPalaces(month: number, palaces: PalaceInfoDict) {\n    const jieIndex = DiZhiSeq.indexOf(DiZhi.Shen) + month * Math.floor(month / 2);\n    const jiePalace = palaces[DiZhiSeq[jieIndex % 12]];\n    jiePalace.starSigns3.push(StarSign.JieShen)\n\n    const seq = [DiZhi.Si, DiZhi.Shen, DiZhi.Yin, DiZhi.Hai];\n    const tianWuZhi = seq[Math.floor(month / 3)];\n    const tianWuPalace = palaces[tianWuZhi];\n    tianWuPalace.starSigns3.push(StarSign.TianWu)\n}\n\nfunction calculateYinShaPalace(month: number, palaces: PalaceInfoDict) {\n    const index = 2 - (month * 2) % 12 + 12;\n    const palace = palaces[DiZhiSeq[index % 12]];\n    palace.starSigns3.push(StarSign.YinSha);\n}\n\nfunction calculateTianYue2Palace(month: number, palaces: PalaceInfoDict) {\n    const seq = [DiZhi.Xu, DiZhi.Si, DiZhi.Chen, DiZhi.Yin, DiZhi.Wei, DiZhi.Mou,\n                   DiZhi.Hai, DiZhi.Wei, DiZhi.Yin, DiZhi.Wu, DiZhi.Xu, DiZhi.Yin];\n    const palace = palaces[seq[month]];\n    palace.starSigns3.push(StarSign.TianYue2);\n}\n\nfunction calculateTianMaPalace(yearZhi: DiZhi, palaces: PalaceInfoDict) {\n    const palace = palaces[TianMaPos[yearZhi]];\n    palace.starSigns2.push(StarSign.TianMa)\n}\n\nfunction calculateLongFengPalace(yearZhi: DiZhi, palaces: PalaceInfoDict) {\n    const longChiIndex = DiZhiSeq.indexOf(DiZhi.Chen) + DiZhiSeq.indexOf(yearZhi);\n    const longChiPalace = palaces[DiZhiSeq[longChiIndex % 12]];\n    longChiPalace.starSigns3.push(StarSign.LongChi);\n\n    const fengGeIndex = DiZhiSeq.indexOf(DiZhi.Xu) - DiZhiSeq.indexOf(yearZhi) + 12;\n    const fengGePalace = palaces[DiZhiSeq[fengGeIndex % 12]];\n    fengGePalace.starSigns3.push(StarSign.FengGe);\n}\n\nfunction calculateHuoLingPalace(yearZhi: DiZhi, hour: number, palaces: PalaceInfoDict) {\n    const [huoStartZhi, lingStartZhi] = HuoLingPos[yearZhi]\n    \n    const huoZhi = DiZhiSeq[(DiZhiSeq.indexOf(huoStartZhi) + hour) % 12]\n    const huoPalace = palaces[huoZhi];\n    huoPalace.starSigns2.push(StarSign.HuoXing)\n\n    const lingZhi = DiZhiSeq[(DiZhiSeq.indexOf(lingStartZhi) + hour) % 12]\n    const lingPalace = palaces[lingZhi];\n    lingPalace.starSigns2.push(StarSign.LingXing)\n}\n\nfunction calculateKongJiePalaces(hour: number, palaces: PalaceInfoDict) {\n    const diJieZhi = DiZhiSeq[(DiZhiSeq.indexOf(DiZhi.Hai) + hour) % 12];\n    const diJiePalace = palaces[diJieZhi];\n    diJiePalace.starSigns2.push(StarSign.DiJie);\n\n    const diKongZhi = DiZhiSeq[(DiZhiSeq.indexOf(DiZhi.Hai) - hour + 12) % 12];\n    const diKongPalace = palaces[diKongZhi];\n    diKongPalace.starSigns2.push(StarSign.DiKong);\n}\n\n\nexport function calculateZiWeiPalace(yearGan: TianGan, month: number, day:number, hour: number): DiZhi {\n    const mingZhi = calculateMingPalaceDiZhi(month, hour);\n    const wuXing = calulcateWuXinJu(yearGan, mingZhi);\n    \n    const seq = [DiZhi.You, DiZhi.Wu, DiZhi.Hai, DiZhi.Chen, DiZhi.Chou];\n\n    const wuXingNum = WuXingNumber[wuXing];\n    const wuXingZhi = WuXingDiZhi[wuXing];\n\n    const startIndex = seq.indexOf(wuXingZhi);\n\n    const shang = Math.floor(day / wuXingNum);\n    const remain = day % wuXingNum;\n\n    const startDiZhi = remain === 0 ? DiZhi.Yin : seq[(startIndex + remain - 1) % 5];\n    return DiZhiSeq[(DiZhiSeq.indexOf(startDiZhi) + shang) % 12];\n}\n\nexport function calculateMingPalaceDiZhi(month: number, hour: number) {\n    const mingPalaceIndex = (DiZhiSeq.indexOf(DiZhi.Yin) + month -  hour + 12) % 12;\n    return DiZhiSeq[mingPalaceIndex];\n}\n\nexport function calulcateWuXinJu(tianGan: TianGan, diZhi: DiZhi) {\n    const startElement = WuXingJu[tianGan];\n    const elementIndex = WuXingJuSeq.indexOf(startElement) + Math.floor(DiZhiSeq.indexOf(diZhi) / 2);\n    return WuXingJuSeq[elementIndex % 5];\n}\n\nexport function calculateWuXingNumber(yearGan: TianGan | undefined, month: number | undefined, hour: number | undefined) {\n    if (!yearGan || month === undefined || hour === undefined) {\n        return 1;\n    }\n\n    const mingZhi = calculateMingPalaceDiZhi(month, hour);\n    const wuXing = calulcateWuXinJu(yearGan, mingZhi);\n    return WuXingNumber[wuXing];\n}\n","export function range(num: number) {\n    return Array.from(Array(num).keys());\n}","import React, { Component } from \"react\";\nimport LunarCalendar from 'lunar-calendar';\n\nimport './YunXian.scss';\nimport { range } from '../Utils/Utils';\n\nexport class YunXian extends Component<ITimeInfo, IYunXianState> {\n    private readonly yunXianSeq = [XianName.DaXian, XianName.LiuNian, XianName.LiuYue, XianName.LiuRi];\n\n    constructor(timeInfo: Readonly<ITimeInfo>) {\n        super(timeInfo);\n\n        this.state = {\n            yun: this.props.wuXingNumber,\n            year: 0,\n            month: 0,\n            day: 0,\n            enabledYunXian: []\n        }\n    }\n\n    public render() {\n        const daXians = range(12).map(i => {\n            const fYear = this.props.wuXingNumber + i * 10;\n            const tYear = this.props.wuXingNumber + i * 10 + 9;\n            return (<option key={fYear} value={fYear}>{fYear}-{tYear} 岁</option>);\n        });\n\n        const years = range(10).map(i => {\n            const year = this.props.birthYear + this.state.yun - 1 + i;\n            return (<option key={i} value={i}>{year} - {this.state.yun + i}岁</option>);\n        });\n\n        const months = range(12).map(i => {\n            return (<option key={i} value={i}>{i + 1}</option>);\n        });\n\n        const days = range(31).map(i => {\n            return (<option key={i} value={i}>{i + 1}</option>);\n        });\n\n        return (\n            <div className=\"da-xian\">\n                <div className={this.getBlockStyle(XianName.DaXian)}>\n                    <select className=\"dx-selector\" \n                            value={this.state.yun}\n                            onChange={x => this.onChanged(XianName.DaXian, x.target.value)}>\n                        {daXians}\n                    </select>\n                    <div className=\"dx-enabler\" onClick={() => this.onEnabled(XianName.DaXian)}>大限</div>\n                </div>\n                <div className={this.getBlockStyle(XianName.LiuNian)}>\n                    <select className=\"dx-selector\"\n                            value={this.state.year}\n                            onChange={x => this.onChanged(XianName.LiuNian, x.target.value)}>>\n                        {years}\n                    </select>\n                    <div className=\"dx-enabler\" onClick={() => this.onEnabled(XianName.LiuNian)}>流年</div>\n                </div>\n                <div className={this.getBlockStyle(XianName.LiuYue)}>\n                    <select className=\"dx-selector\"\n                            value={this.state.month}\n                            onChange={x => this.onChanged(XianName.LiuYue, x.target.value)}>\n                        {months}\n                    </select>\n                    <div className=\"dx-enabler\" onClick={() => this.onEnabled(XianName.LiuYue)}>流月</div>\n                </div>\n                <div className={this.getBlockStyle(XianName.LiuRi)}>\n                    <select className=\"dx-selector\"\n                            value={this.state.day}\n                            onChange={x => this.onChanged(XianName.LiuRi, x.target.value)}>>\n                        {days}\n                    </select>\n                    <div className=\"dx-enabler\" onClick={() => this.onEnabled(XianName.LiuRi)}>流日</div>\n                </div>\n                <div className=\"dx-block\">\n                    <div className=\"dx-enabler\" onClick={() => this.onToday()}>\n                        今天\n                    </div>\n                    <div className=\"dx-enabler\" >\n                        <span onClick={() => this.onNextDay(-1)}>上</span>|\n                        <span onClick={() => this.onNextDay(1)}>下</span>                        \n                    </div>\n                </div>\n                <div className=\"dx-block\">\n                    <div className=\"dx-clear\" onClick={() => this.onEnabled(undefined)}>\n                        清空\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    private getBlockStyle(name: XianName) {\n        let style = 'dx-block';\n\n        if (this.state.enabledYunXian.includes(name)) {\n            style += ' dx-enabled';\n        }\n\n        return style;\n    }\n\n    private onChanged(name: XianName, valStr: string) {\n        const state = { ...this.state };\n        const val = parseInt(valStr);\n        switch(name) {\n            case XianName.DaXian:\n                state.yun = val;\n                state.year = 0;\n                state.month = 0;\n                state.day = 0;\n                break;\n            case XianName.LiuNian:\n                state.year = val;\n                state.month = 0;\n                state.day = 0;\n                break;\n            case XianName.LiuYue:\n                state.month = val;\n                state.day = 0;\n                break;\n            case XianName.LiuRi:\n                state.day = val;\n                break;\n        }\n        // state.enabledYunXian = this.yunXianSeq.slice(0, name + 1);\n        this.setState(state, () => this.props.change(this.state));\n    }\n\n    private onEnabled(name: XianName | undefined) {\n        if (name === undefined) {\n            this.setState({\n                yun: this.props.wuXingNumber,\n                year: 0,\n                month: 0,\n                day: 0,\n                enabledYunXian: []\n            }, \n            () => this.props.change(this.state));\n        } else if (name === this.state.enabledYunXian.length - 1) {\n            this.setState({\n                enabledYunXian: this.yunXianSeq.slice(0, name)\n            },\n            () => this.props.change(this.state));\n        } else {\n            this.setState({\n                enabledYunXian: this.yunXianSeq.slice(0, name + 1)\n            },\n            () => this.props.change(this.state));\n        }\n    }\n\n    private onToday() {\n        const today = new Date();\n        const lunarToday = LunarCalendar.solarToLunar(today.getFullYear(), today.getMonth() + 1, today.getDate());\n        \n        const startYear = this.props.birthYear + this.props.wuXingNumber - 1;\n        const yun = (Math.floor((lunarToday.lunarYear - startYear) / 10)) * 10 + this.props.wuXingNumber;\n        const year = lunarToday.lunarYear - this.props.birthYear - yun + 1;\n\n        // todo: fix for LeapMonth\n        this.setState({\n            yun,\n            year,\n            month: lunarToday.lunarMonth - 1,\n            day: lunarToday.lunarDay - 1,\n            enabledYunXian: this.yunXianSeq\n        }, () => this.props.change(this.state));\n    }\n\n    private onNextDay(delta: number) {\n        var day = Math.min(31, Math.max(0, this.state.day + delta));\n        this.setState({\n            day,\n        }, () => this.props.change(this.state));\n    }\n}\n\nexport interface ITimeInfo {\n    birthYear: number;\n    wuXingNumber: number;\n    className?: string;\n    change: {(state: IYunXianState):void};\n}\n\nexport interface IYunXianState {\n    yun: number,\n    year: number,\n    month: number,\n    day: number,\n    enabledYunXian: XianName[]\n}\n\nexport enum XianName {\n    DaXian = 0,\n    LiuNian = 1,\n    LiuYue = 2,\n    LiuRi = 3\n}\n","import { ISiHuaInfo, IStarAtlasInfo } from '../StarAtlas/StarAtlas';\nimport { StarInfo, IPalaceInfo, LiuStarInfo } from '../Palace/Palace';\nimport { TianGan, DiZhi, StarSign } from './Terms';\nimport { SiHua, SiHuaTable, SiHuaSeq } from './SiHua';\nimport { range } from '../Utils/Utils';\nimport { DiZhiSeq, PalaceSeq, TianGanSeq, LuCunZhi } from './Rules';\nimport { XianName, IYunXianState } from '../YunXian/YunXian';\nimport LunarCalendar from 'lunar-calendar';\n\ntype PalaceInfoDict = { [key: string]: IPalaceInfo };\n\nexport function calculateSiHua(siHuaInfo: ISiHuaInfo, palaces: PalaceInfoDict) {\n    const updateSiHua = (s:StarInfo, g: TianGan|undefined, uf: number|{(s: StarInfo, v: SiHua): void}) => {\n        if (!g) {\n            return;\n        }\n\n        if (typeof uf === 'number' && s.siHuas.length <= uf) {\n            range(uf - s.siHuas.length + 1).forEach(() => s.siHuas.push(SiHua.PlaceHolder));\n        }\n\n        const siHua = SiHuaTable[g];\n        siHua.forEach((sh, i) => {\n            if (s.starSign === sh) {\n                if (typeof uf === 'number') {\n                    s.siHuas[uf] = SiHuaSeq[i];\n                } else {\n                    uf(s, SiHuaSeq[i]);\n                }\n            }\n        });\n    }\n\n    const updatePalaceName = (zhi: DiZhi|undefined) => {\n        if (!zhi) {\n            return;\n        }\n        const palace = Object.values(palaces).find(p => p.diZhi === zhi);\n        if (palace) {\n            const mingPalaceIndex = DiZhiSeq.indexOf(palace.diZhi);\n            for (let i = 0; i < 12; i++) {\n                const index = (i + mingPalaceIndex) % 12;\n                const palaceInfo = palaces[DiZhiSeq[index]];\n    \n                const name = PalaceSeq[(12 - i) % 12];\n                palaceInfo.palaceNames.push(name);\n            }\n        }\n    }\n\n    Object.values(palaces).forEach(palace => {\n        palace.starSigns1.forEach(s => {\n            updateSiHua(s, siHuaInfo.birthGan, 0);\n            updateSiHua(s, siHuaInfo.yunGan, 1);\n            updateSiHua(s, siHuaInfo.yearGan, 2);   \n            updateSiHua(s, siHuaInfo.monthGan, 3);\n            updateSiHua(s, siHuaInfo.dayGan, 4);\n            updateSiHua(s, siHuaInfo.selectedGan, (s, v) => s.selectedSiHua = v);\n        });\n    });\n\n    updatePalaceName(siHuaInfo.yunZhi);\n    updatePalaceName(siHuaInfo.yearZhi);\n    updatePalaceName(siHuaInfo.monthZhi);\n    updatePalaceName(siHuaInfo.dayZhi);\n\n    const enabledYun = siHuaInfo.enabledYunXian.slice(-3);\n\n    if (siHuaInfo.yunGan && enabledYun.includes(XianName.DaXian)) {\n        calculateLiuLuYangTouPalaces(XianName.DaXian, siHuaInfo.yunGan, StarSign.YunLu, StarSign.YunYan, StarSign.YunTuo, palaces);\n    }\n\n    if (siHuaInfo.yearGan && enabledYun.includes(XianName.LiuNian)) {\n        calculateLiuLuYangTouPalaces(XianName.LiuNian, siHuaInfo.yearGan, StarSign.LiuLu, StarSign.LiuYan, StarSign.LiuTuo, palaces);\n    }\n\n    if (siHuaInfo.monthGan && enabledYun.includes(XianName.LiuYue)) {\n        calculateLiuLuYangTouPalaces(XianName.LiuYue, siHuaInfo.monthGan, StarSign.YueLu, StarSign.YueYan, StarSign.YueTuo, palaces);\n    }\n\n    if (siHuaInfo.dayGan && enabledYun.includes(XianName.LiuRi)) {\n        calculateLiuLuYangTouPalaces(XianName.LiuRi, siHuaInfo.dayGan, StarSign.RiLu, StarSign.RiYan, StarSign.RiTuo, palaces);\n    }\n}\n\nfunction calculateLiuLuYangTouPalaces(xian: XianName, yearGan: TianGan, lu: StarSign, yang: StarSign, tuo: StarSign, palaces: PalaceInfoDict) {\n    const palace = palaces[LuCunZhi[yearGan]];\n    palace.starSigns4.push(new LiuStarInfo(lu, xian));\n\n    const luChunIndex = DiZhiSeq.indexOf(LuCunZhi[yearGan]);\n    \n    const yangIndex = (luChunIndex + 1) % 12;\n    const yangPalace = palaces[DiZhiSeq[yangIndex]];\n    yangPalace.starSigns4.push(new LiuStarInfo(yang, xian));\n\n    const tuoIndex = (luChunIndex - 1 + 12) % 12;\n    const tuoPalace = palaces[DiZhiSeq[tuoIndex]];\n    tuoPalace.starSigns4.push(new LiuStarInfo(tuo, xian));\n}\n\nexport function calculateYunSiHua(yunState: IYunXianState, starAtlasInfo: IStarAtlasInfo, year: number, palaces: { [key: string]: IPalaceInfo }) {\n    const siHua: ISiHuaInfo = { \n        birthGan: starAtlasInfo.birthYearGan,\n        enabledYunXian: yunState.enabledYunXian\n    };\n\n    let sanFangZhi = undefined;\n    yunState.enabledYunXian.forEach(y => {\n        switch(y) {\n            case XianName.DaXian:\n                const yunPalace = Object.values(palaces).find(p => p.daXian === yunState.yun);\n                if (yunPalace) {\n                    siHua.yunGan = yunPalace.tianGan;\n                    siHua.yunZhi = yunPalace.diZhi;\n                    sanFangZhi = yunPalace.diZhi;\n                }\n            break;\n            case XianName.LiuNian:\n                const { gan, zhi } = calculateYearGanZhi(year);\n                const yearPalace = Object.values(palaces).find(p => p.diZhi === zhi);\n                if (yearPalace) {\n                    siHua.yearGan = gan;\n                    siHua.yearZhi = zhi;\n                    sanFangZhi = zhi;\n                }\n            break;\n            case XianName.LiuYue:\n                if (starAtlasInfo.month !== undefined && starAtlasInfo.hour !== undefined) {\n                    const result = calculateYearGanZhi(year);\n                    const index = (DiZhiSeq.indexOf(result.zhi) - starAtlasInfo.month + starAtlasInfo.hour + yunState.month + 12) % 12;\n                    const zhi = DiZhiSeq[index];\n\n                    const monthPalace = Object.values(palaces).find(p => p.diZhi === zhi);\n                    if (monthPalace) {\n                        const solarDate = LunarCalendar.lunarToSolar(year, yunState.month + 1, 1);\n                        const lunarDate = LunarCalendar.solarToLunar(solarDate.year, solarDate.month, solarDate.day);\n                        siHua.monthGan = lunarDate.GanZhiMonth[0];\n                        siHua.monthZhi = monthPalace.diZhi;\n                        sanFangZhi = zhi;\n                    }\n                }\n            break;\n            case XianName.LiuRi:\n                if (starAtlasInfo.month !== undefined && starAtlasInfo.hour !== undefined) {\n                    const result = calculateYearGanZhi(year);\n                    const index = (DiZhiSeq.indexOf(result.zhi) - starAtlasInfo.month + starAtlasInfo.hour + yunState.month + yunState.day + 12) % 12;\n                    const zhi = DiZhiSeq[index];\n\n                    const monthPalace = Object.values(palaces).find(p => p.diZhi === zhi);\n                    if (monthPalace) {\n                        const solarDate = LunarCalendar.lunarToSolar(year, yunState.month + 1, yunState.day + 1);\n                        const lunarDate = LunarCalendar.solarToLunar(solarDate.year, solarDate.month, solarDate.day);\n                        siHua.dayGan = lunarDate.GanZhiDay[0];\n                        siHua.dayZhi = monthPalace.diZhi;\n                        sanFangZhi = zhi;\n                    }\n                }\n            break;\n        }\n    });\n\n    return { siHua, sanFangZhi };\n}\n\nfunction calculateYearGanZhi(year: number) {\n    const gan = TianGanSeq[((year - 3) % 10 -1 + 10) % 10];\n    const zhi = DiZhiSeq[((year - 3) % 12 -1 + 12) % 12];\n    return { gan, zhi };\n}","import React, { Component, CSSProperties } from 'react';\nimport { format } from 'date-fns';\nimport LunarCalendar from 'lunar-calendar';\n\nimport './StarAtlas.scss'\n\nimport { Palace, IPalaceInfo } from '../Palace/Palace';\nimport { DiZhi, TianGan, Gender } from '../AtlasBuilder/Terms';\nimport { buildStartAtlas, calculateWuXingNumber as calculateWuXingJu, calculateMingPalaceDiZhi } from '../AtlasBuilder/AtlasBuilder';\nimport { DiZhiSeq, FengZhengPos as FangZhengPos } from '../AtlasBuilder/Rules';\nimport { YunXian, IYunXianState } from '../YunXian/YunXian';\nimport { calculateSiHua, calculateYunSiHua } from '../AtlasBuilder/YunXianBuilder';\n\nexport class StarAtlas extends Component<IStarAtlasInfo, IStartAtlasState> {\n\n    constructor(atlasInfo: Readonly<IStarAtlasInfo>) {\n        super(atlasInfo);\n\n        const selectedDiZhi = this.props.month !== undefined && this.props.hour !== undefined\n            ? calculateMingPalaceDiZhi(this.props.month, this.props.hour)\n            : DiZhi.Yin;\n\n        const siHua: ISiHuaInfo = {\n            birthGan: atlasInfo.birthYearGan,\n            enabledYunXian: []\n        }\n\n        const palaces = buildStartAtlas(this.props);\n        calculateSiHua(siHua, palaces);\n\n        this.state = {\n            palaces,\n            siHua,\n            selectedDiZhi\n        };\n    }\n\n    public render() {\n        const wuXing = calculateWuXingJu(this.props.birthYearGan, this.props.month, this.props.hour);\n        const sanFangDiZhi = this.state.selectedDiZhi;\n        return (\n            <div className=\"atlas\">\n                <table className=\"atlas-table\">\n                    <tbody>\n                        <tr>\n                            <td>{this.getPalace(DiZhi.Si)}</td>\n                            <td>{this.getPalace(DiZhi.Wu)}</td>\n                            <td>{this.getPalace(DiZhi.Wei)}</td>\n                            <td>{this.getPalace(DiZhi.Shen)}</td>\n                        </tr>\n                        <tr>\n                            <td>{this.getPalace(DiZhi.Chen)}</td>\n                            <td colSpan={2} rowSpan={2} className=\"center\" >\n                                {this.getInfo()}\n                                {this.createSanHeLines(sanFangDiZhi)}\n                            </td>\n                            <td>{this.getPalace(DiZhi.You)}</td>\n                        </tr>\n                        <tr>\n                            <td>{this.getPalace(DiZhi.Mou)}</td>\n                            <td>{this.getPalace(DiZhi.Xu)}</td>\n                        </tr>\n                        <tr>\n                            <td>{this.getPalace(DiZhi.Yin)}</td>\n                            <td>{this.getPalace(DiZhi.Chou)}</td>\n                            <td>{this.getPalace(DiZhi.Zi)}</td>\n                            <td>{this.getPalace(DiZhi.Hai)}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <YunXian className=\"time-table\" \n                         birthYear={this.props.birthYear}\n                         wuXingNumber={wuXing}\n                         change = {x => this.onYunChanged(x)}>\n                </YunXian>\n            </div>);\n    }\n\n    private getPalace(dizhi: DiZhi) {\n        const info = this.state.palaces[dizhi];\n        return (<Palace {...info} onClick={() => this.onPalaceClick(info.tianGan, info.diZhi)}></Palace>);\n    }\n\n    private onPalaceClick(tianGan: TianGan|undefined, diZhi: DiZhi) {\n        if (!tianGan) {\n            return;\n        }\n\n        const siHua = { ...this.state.siHua };\n        siHua.selectedGan = siHua.selectedGan === tianGan ? undefined : tianGan;\n\n        const palaces = buildStartAtlas(this.props);\n        calculateSiHua(siHua, palaces);\n\n        this.setState({\n            siHua,\n            palaces,\n            selectedDiZhi: diZhi\n        });\n    }\n\n    private getInfo() {\n        let info = '';\n\n        if (this.props.birthYearGan && this.props.birthYearZhi) {\n            info += `${this.props.birthYearGan}${this.props.birthYearZhi}年`;\n        }\n        \n        if (this.props.month !== undefined) {\n            info += ` ${this.props.month + 1}月`;\n        }\n\n        if (this.props.day !== undefined) {\n            info += ` ${this.props.day}日`;\n        }\n\n        if (this.props.hour !== undefined) {\n            info += ` ${DiZhiSeq[this.props.hour]}时`;\n        }\n        \n        const today = this.state.solarDate \n            ? format(this.state.solarDate, 'YYYY年 MM月 DD日 ddd')\n            : undefined;\n\n        return (\n            <span className=\"info\">\n                <div>{info}</div>\n                <div className=\"today\">{today}</div>\n            </span>\n        );\n    }\n\n    private createSanHeLines(louZhi: DiZhi | undefined) {\n        if (!louZhi) {\n            return;\n        }\n\n        if (!this.state.siHua.birthGan) {\n            return undefined;\n        }\n        \n        const zhiPos = FangZhengPos[louZhi];\n        const sanFang1Pos = FangZhengPos[DiZhiSeq[(DiZhiSeq.indexOf(louZhi) + 4) % 12]];\n        const sanFang2Pos = FangZhengPos[DiZhiSeq[(DiZhiSeq.indexOf(louZhi) + 8) % 12]];\n        const siZhengPos = FangZhengPos[DiZhiSeq[(DiZhiSeq.indexOf(louZhi) + 6) % 12]];\n\n        const sanFang1 = drawLine(zhiPos, sanFang1Pos);\n        const sanFang2 = drawLine(zhiPos, sanFang2Pos);\n        const sanFang3 = drawLine(sanFang1Pos, sanFang2Pos);\n        const siZeng = drawLine(zhiPos, siZhengPos);\n\n        return [\n            <div key=\"sanfang-1\" style={sanFang1}></div>,\n            <div key=\"sanfang-2\" style={sanFang2}></div>,\n            <div key=\"sanfang-3\" style={sanFang3}></div>,\n            <div key=\"sizheng-1\" style={siZeng}></div>\n        ];\n    }\n\n    // todo: move to builder function\n    private onYunChanged(yunState: IYunXianState) {\n        const year = this.props.birthYear + yunState.yun + yunState.year - 1;\n        const palaces = buildStartAtlas(this.props);\n\n        const { siHua, sanFangZhi } = calculateYunSiHua(yunState, this.props, year, this.state.palaces);\n        calculateSiHua(siHua, palaces);\n\n        var solarDate = LunarCalendar.lunarToSolar(year, yunState.month + 1, yunState.day + 1);\n        this.setState({\n            palaces,\n            siHua,\n            selectedDiZhi: sanFangZhi, \n            solarDate: new Date(solarDate.year, solarDate.month -1, solarDate.day)\n        });\n    }\n}\n\nexport interface IStarAtlasInfo {\n    birthYear: number;\n    birthYearGan?: TianGan;\n    birthYearZhi?: DiZhi;\n    month?: number;\n    day?: number;\n    hour?: number;\n    gender?: Gender;\n    ziWeiZhi?: DiZhi;\n    daXian?: number;\n}\n\nexport interface IStartAtlasState {\n    palaces: { [key: string]: IPalaceInfo };\n    siHua: ISiHuaInfo;\n    selectedDiZhi?: DiZhi;\n    yunXian?: IYunXianState;\n    solarDate?: Date;\n}\n\nexport interface ISiHuaInfo {\n    birthGan?: TianGan,\n    selectedGan?: TianGan,\n    yunGan?: TianGan,\n    yunZhi?: DiZhi,\n    yearGan?: TianGan,\n    yearZhi?: DiZhi,\n    monthGan?: TianGan,\n    monthZhi?: DiZhi,\n    dayGan?: TianGan,\n    dayZhi?: DiZhi,\n    enabledYunXian: number[]\n}\n\nfunction drawLine (pos1: [number, number], pos2: [number, number]): CSSProperties {\n    const width = Math.abs(pos2[0] - pos1[0]) / 4 * 100;\n    const height = Math.abs(pos2[1] - pos1[1]) / 4 * 100;\n    const left = Math.min(pos2[0], pos1[0]) / 4 * 100;\n    const bottom = Math.min(pos2[1], pos1[1]) / 4 * 100;\n\n    const background = pos1[0] > pos2[0] && pos1[1] < pos2[1] || pos1[0] < pos2[0] && pos1[1] > pos2[1]\n        ? 'url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxsaW5lIHN0cm9rZS1kYXNoYXJyYXk9IjMsMyIgIHgxPSIwIiB5MT0iMCIgeDI9IjEwMCUiIHkyPSIxMDAlIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEiLz48L3N2Zz4=\") no-repeat center center'\n        : 'url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxsaW5lIHN0cm9rZS1kYXNoYXJyYXk9IjMsMyIgIHgxPSIwIiB5MT0iMTAwJSIgeDI9IjEwMCUiIHkyPSIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEiLz48L3N2Zz4=\") no-repeat center center';\n\n    return {\n        position: 'absolute',\n        width: `${width}%`,\n        height: `${height}%`,\n        left: `${left}%`,\n        bottom: `${bottom}%`,\n        background: background\n    }\n}","import React, { Component } from 'react';\n\nimport './App.css';\n\nimport LunarCalendar from 'lunar-calendar';\nimport { StarAtlas, IStarAtlasInfo } from './StarAtlas/StarAtlas';\nimport { Gender } from './AtlasBuilder/Terms';\n\nclass App extends Component {\n    public render() {\n        const a1 = this.getInfo(1983, 2, 25, 4, Gender.Male);\n        const a2 = this.getInfo(1987, 9, 5, 16, Gender.Female);\n        const a3 = this.getInfo(1990, 2, 24, 23, Gender.Female);\n        const a6 = this.getInfo(1997, 7, 7, 10, Gender.Female);\n        const a4: IStarAtlasInfo = {\n            birthYear: 0,\n            month: 9,\n            day: 5,\n            hour: 6,\n        }\n        const today = new Date();\n        const a5 = this.getInfo(today.getFullYear(), today.getMonth(), today.getDate(), today.getHours(), Gender.Male)\n\n        return (\n            <div className=\"board\">\n                <StarAtlas {...a1}></StarAtlas>\n                <StarAtlas {...a2}></StarAtlas>\n                <StarAtlas {...a3}></StarAtlas>\n                <StarAtlas {...a6}></StarAtlas>\n                <StarAtlas {...a4}></StarAtlas>\n                <StarAtlas {...a5}></StarAtlas>\n            </div>\n        );\n    }\n\n    private getInfo(year: number, month: number, day: number, hour: number, gender: Gender): IStarAtlasInfo {\n        const lunarDate = LunarCalendar.solarToLunar(year, month, day);\n        \n        month = lunarDate.lunarMonth - 1;\n        if (lunarDate.lunarLeapMonth > 0 && month > lunarDate.lunarLeapMonth) {\n            month -= 1;\n        }\n\n        day = Math.round(lunarDate.lunarDay);\n        hour = Math.floor(hour / 2)\n\n        console.log(lunarDate, month, day, hour)\n\n        return {\n            birthYear: lunarDate.lunarYear,\n            birthYearGan: lunarDate.GanZhiYear[0],\n            birthYearZhi: lunarDate.GanZhiYear[1],\n            month: month,\n            day: Math.round(lunarDate.lunarDay),\n            hour: hour,\n            gender: gender,\n        }\n    }\n}\n\nexport default App;\n    ","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}